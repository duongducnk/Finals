{"version":3,"file":"index.js","sources":["../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/cjs/react-is.development.js","../node_modules/react-is/index.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/xtend/immutable.js","../node_modules/fuzzy/lib/fuzzy.js","../node_modules/suggestions/src/list.js","../node_modules/suggestions/src/suggestions.js","../node_modules/suggestions/index.js","../node_modules/lodash.debounce/index.js","../node_modules/@goongmaps/goong-sdk/lib/classes/gapi-response.js","../node_modules/@goongmaps/goong-sdk/lib/helpers/parse-link-header.js","../node_modules/@goongmaps/goong-sdk/lib/classes/gapi-error.js","../node_modules/@goongmaps/goong-sdk/lib/constants.js","../node_modules/@goongmaps/goong-sdk/lib/browser/browser-layer.js","../node_modules/eventemitter3/index.js","../node_modules/@goongmaps/goong-sdk/lib/helpers/url-utils.js","../node_modules/@goongmaps/goong-sdk/lib/classes/gapi-request.js","../node_modules/@goongmaps/goong-sdk/lib/classes/gapi-client.js","../node_modules/@goongmaps/goong-sdk/lib/browser/browser-client.js","../node_modules/@goongmaps/goong-sdk/lib/helpers/parse-headers.js","../node_modules/@goongmaps/goong-sdk/index.js","../node_modules/is-plain-obj/index.js","../node_modules/@mapbox/fusspot/lib/index.js","../node_modules/@goongmaps/goong-sdk/services/service-helpers/create-service-factory.js","../node_modules/@goongmaps/goong-sdk/services/service-helpers/validator.js","../node_modules/@goongmaps/goong-sdk/services/autocomplete.js","../node_modules/@goongmaps/goong-geocoder/lib/index.js","../src/index.js"],"sourcesContent":["/** @license React v16.13.0\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","/** @license React v16.13.0\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","/*\n * Fuzzy\n * https://github.com/myork/fuzzy\n *\n * Copyright (c) 2012 Matt York\n * Licensed under the MIT license.\n */\n\n(function() {\n\nvar root = this;\n\nvar fuzzy = {};\n\n// Use in node or in browser\nif (typeof exports !== 'undefined') {\n  module.exports = fuzzy;\n} else {\n  root.fuzzy = fuzzy;\n}\n\n// Return all elements of `array` that have a fuzzy\n// match against `pattern`.\nfuzzy.simpleFilter = function(pattern, array) {\n  return array.filter(function(str) {\n    return fuzzy.test(pattern, str);\n  });\n};\n\n// Does `pattern` fuzzy match `str`?\nfuzzy.test = function(pattern, str) {\n  return fuzzy.match(pattern, str) !== null;\n};\n\n// If `pattern` matches `str`, wrap each matching character\n// in `opts.pre` and `opts.post`. If no match, return null\nfuzzy.match = function(pattern, str, opts) {\n  opts = opts || {};\n  var patternIdx = 0\n    , result = []\n    , len = str.length\n    , totalScore = 0\n    , currScore = 0\n    // prefix\n    , pre = opts.pre || ''\n    // suffix\n    , post = opts.post || ''\n    // String to compare against. This might be a lowercase version of the\n    // raw string\n    , compareString =  opts.caseSensitive && str || str.toLowerCase()\n    , ch;\n\n  pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n\n  // For each character in the string, either add it to the result\n  // or wrap in template if it's the next string in the pattern\n  for(var idx = 0; idx < len; idx++) {\n    ch = str[idx];\n    if(compareString[idx] === pattern[patternIdx]) {\n      ch = pre + ch + post;\n      patternIdx += 1;\n\n      // consecutive characters should increase the score more than linearly\n      currScore += 1 + currScore;\n    } else {\n      currScore = 0;\n    }\n    totalScore += currScore;\n    result[result.length] = ch;\n  }\n\n  // return rendered string if we have a match for every char\n  if(patternIdx === pattern.length) {\n    // if the string is an exact match with pattern, totalScore should be maxed\n    totalScore = (compareString === pattern) ? Infinity : totalScore;\n    return {rendered: result.join(''), score: totalScore};\n  }\n\n  return null;\n};\n\n// The normal entry point. Filters `arr` for matches against `pattern`.\n// It returns an array with matching values of the type:\n//\n//     [{\n//         string:   '<b>lah' // The rendered string\n//       , index:    2        // The index of the element in `arr`\n//       , original: 'blah'   // The original element in `arr`\n//     }]\n//\n// `opts` is an optional argument bag. Details:\n//\n//    opts = {\n//        // string to put before a matching character\n//        pre:     '<b>'\n//\n//        // string to put after matching character\n//      , post:    '</b>'\n//\n//        // Optional function. Input is an entry in the given arr`,\n//        // output should be the string to test `pattern` against.\n//        // In this example, if `arr = [{crying: 'koala'}]` we would return\n//        // 'koala'.\n//      , extract: function(arg) { return arg.crying; }\n//    }\nfuzzy.filter = function(pattern, arr, opts) {\n  if(!arr || arr.length === 0) {\n    return [];\n  }\n  if (typeof pattern !== 'string') {\n    return arr;\n  }\n  opts = opts || {};\n  return arr\n    .reduce(function(prev, element, idx, arr) {\n      var str = element;\n      if(opts.extract) {\n        str = opts.extract(element);\n      }\n      var rendered = fuzzy.match(pattern, str, opts);\n      if(rendered != null) {\n        prev[prev.length] = {\n            string: rendered.rendered\n          , score: rendered.score\n          , index: idx\n          , original: element\n        };\n      }\n      return prev;\n    }, [])\n\n    // Sort by score. Browsers are inconsistent wrt stable/unstable\n    // sorting, so force stable by using the index in the case of tie.\n    // See http://ofb.net/~sethml/is-sort-stable.html\n    .sort(function(a,b) {\n      var compare = b.score - a.score;\n      if(compare) return compare;\n      return a.index - b.index;\n    });\n};\n\n\n}());\n\n","'use strict';\n\nvar List = function(component) {\n  this.component = component;\n  this.items = [];\n  this.active = 0;\n  this.wrapper = document.createElement('div');\n  this.wrapper.className = 'suggestions-wrapper';\n  this.element = document.createElement('ul');\n  this.element.className = 'suggestions';\n  this.wrapper.appendChild(this.element);\n\n  // selectingListItem is set to true in the time between the mousedown and mouseup when clicking an item in the list\n  // mousedown on a list item will cause the input to blur which normally hides the list, so this flag is used to keep\n  // the list open until the mouseup\n  this.selectingListItem = false;\n\n  component.el.parentNode.insertBefore(this.wrapper, component.el.nextSibling);\n  return this;\n};\n\nList.prototype.show = function() {\n  this.element.style.display = 'block';\n};\n\nList.prototype.hide = function() {\n  this.element.style.display = 'none';\n};\n\nList.prototype.add = function(item) {\n  this.items.push(item);\n};\n\nList.prototype.clear = function() {\n  this.items = [];\n  this.active = 0;\n};\n\nList.prototype.isEmpty = function() {\n  return !this.items.length;\n};\n\nList.prototype.isVisible = function() {\n  return this.element.style.display === 'block';\n};\n\nList.prototype.draw = function() {\n  this.element.innerHTML = '';\n\n  if (this.items.length === 0) {\n    this.hide();\n    return;\n  }\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.drawItem(this.items[i], this.active === i);\n  }\n\n  this.show();\n};\n\nList.prototype.drawItem = function(item, active) {\n  var li = document.createElement('li'),\n    a = document.createElement('a');\n\n  if (active) li.className += ' active';\n\n  a.innerHTML = item.string;\n\n  li.appendChild(a);\n  this.element.appendChild(li);\n\n  li.addEventListener('mousedown', function() {\n    this.selectingListItem = true;\n  }.bind(this));\n\n  li.addEventListener('mouseup', function() {\n    this.handleMouseUp.call(this, item);\n  }.bind(this));\n};\n\nList.prototype.handleMouseUp = function(item) {\n  this.selectingListItem = false;\n  this.component.value(item.original);\n  this.clear();\n  this.draw();\n};\n\nList.prototype.move = function(index) {\n  this.active = index;\n  this.draw();\n};\n\nList.prototype.previous = function() {\n  this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n};\n\nList.prototype.next = function() {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n};\n\nList.prototype.drawError = function(msg){\n  var li = document.createElement('li');\n\n  li.innerHTML = msg;\n\n  this.element.appendChild(li);\n  this.show();\n}\n\nmodule.exports = List;\n","'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\n\nvar Suggestions = function(el, data, options) {\n  options = options || {};\n\n  this.options = extend({\n    minLength: 2,\n    limit: 5,\n    filter: true,\n    hideOnBlur: true\n  }, options);\n\n  this.el = el;\n  this.data = data || [];\n  this.list = new List(this);\n\n  this.query = '';\n  this.selected = null;\n\n  this.list.draw();\n\n  this.el.addEventListener('keyup', function(e) {\n    this.handleKeyUp(e.keyCode);\n  }.bind(this), false);\n\n  this.el.addEventListener('keydown', function(e) {\n    this.handleKeyDown(e);\n  }.bind(this));\n\n  this.el.addEventListener('focus', function() {\n    this.handleFocus();\n  }.bind(this));\n\n  this.el.addEventListener('blur', function() {\n    this.handleBlur();\n  }.bind(this));\n\n  this.el.addEventListener('paste', function(e) {\n    this.handlePaste(e);\n  }.bind(this));\n\n  // use user-provided render function if given, otherwise just use the default\n  this.render = (this.options.render) ? this.options.render.bind(this) : this.render.bind(this)\n\n  this.getItemValue = (this.options.getItemValue) ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);\n\n  return this;\n};\n\nSuggestions.prototype.handleKeyUp = function(keyCode) {\n  // 40 - DOWN\n  // 38 - UP\n  // 27 - ESC\n  // 13 - ENTER\n  // 9 - TAB\n\n  if (keyCode === 40 ||\n      keyCode === 38 ||\n      keyCode === 27 ||\n      keyCode === 13 ||\n      keyCode === 9) return;\n\n  this.handleInputChange(this.el.value);\n};\n\nSuggestions.prototype.handleKeyDown = function(e) {\n  switch (e.keyCode) {\n    case 13: // ENTER\n    case 9: // TAB\n      if (!this.list.isEmpty()) {\n        if (this.list.isVisible()) {\n          e.preventDefault();\n        }\n        this.value(this.list.items[this.list.active].original);\n        this.list.hide();\n      }\n    break;\n    case 27: // ESC\n      if (!this.list.isEmpty()) this.list.hide();\n    break;\n    case 38: // UP\n      this.list.previous();\n    break;\n    case 40: // DOWN\n      this.list.next();\n    break;\n  }\n};\n\nSuggestions.prototype.handleBlur = function() {\n  if (!this.list.selectingListItem && this.options.hideOnBlur) {\n    this.list.hide();\n  }\n};\n\nSuggestions.prototype.handlePaste = function(e) {\n  if (e.clipboardData) {\n    this.handleInputChange(e.clipboardData.getData('Text'));\n  } else {\n    var self = this;\n    setTimeout(function () {\n      self.handleInputChange(e.target.value);\n    }, 100);\n  }\n};\n\nSuggestions.prototype.handleInputChange = function(query) {\n  this.query = this.normalize(query);\n\n  this.list.clear();\n\n  if (this.query.length < this.options.minLength) {\n    this.list.draw();\n    return;\n  }\n\n  this.getCandidates(function(data) {\n    for (var i = 0; i < data.length; i++) {\n      this.list.add(data[i]);\n      if (i === (this.options.limit - 1)) break;\n    }\n    this.list.draw();\n  }.bind(this));\n};\n\nSuggestions.prototype.handleFocus = function() {\n  if (!this.list.isEmpty()) this.list.show();\n  this.list.selectingListItem = false;\n};\n\n/**\n * Update data previously passed\n *\n * @param {Array} revisedData\n */\nSuggestions.prototype.update = function(revisedData) {\n  this.data = revisedData;\n  this.handleKeyUp();\n};\n\n/**\n * Clears data\n */\nSuggestions.prototype.clear = function() {\n  this.data = [];\n  this.list.clear();\n};\n\n/**\n * Normalize the results list and input value for matching\n *\n * @param {String} value\n * @return {String}\n */\nSuggestions.prototype.normalize = function(value) {\n  value = value.toLowerCase();\n  return value;\n};\n\n/**\n * Evaluates whether an array item qualifies as a match with the current query\n *\n * @param {String} candidate a possible item from the array passed\n * @param {String} query the current query\n * @return {Boolean}\n */\nSuggestions.prototype.match = function(candidate, query) {\n  return candidate.indexOf(query) > -1;\n};\n\nSuggestions.prototype.value = function(value) {\n  this.selected = value;\n  this.el.value = this.getItemValue(value);\n\n  if (document.createEvent) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent('change', true, false);\n    this.el.dispatchEvent(e);\n  } else {\n    this.el.fireEvent('onchange');\n  }\n};\n\nSuggestions.prototype.getCandidates = function(callback) {\n  var options = {\n    pre: '<strong>',\n    post: '</strong>',\n    extract: function(d) { return this.getItemValue(d); }.bind(this)\n  };\n  var results;\n  if(this.options.filter){\n    results = fuzzy.filter(this.query, this.data, options);\n\n    results = results.map(function(item){\n      return {\n        original: item.original,\n        string: this.render(item.original, item.string)\n      };\n    }.bind(this))\n  }else{\n    results = this.data.map(function(d) {\n      var renderedString = this.render(d);\n      return {\n        original: d,\n        string: renderedString\n      };\n    }.bind(this));\n  }\n  callback(results);\n};\n\n/**\n * For a given item in the data array, return what should be used as the candidate string\n *\n * @param {Object|String} item an item from the data array\n * @return {String} item\n */\nSuggestions.prototype.getItemValue = function(item) {\n  return item;\n};\n\n/**\n * For a given item in the data array, return a string of html that should be rendered in the dropdown\n * @param {Object|String} item an item from the data array\n * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function \n * @return {String} html\n */\nSuggestions.prototype.render = function(item, sourceFormatting) {\n  if (sourceFormatting){\n    // use existing formatting on the source string\n    return sourceFormatting;\n  }\n  var boldString = (item.original) ? this.getItemValue(item.original) : this.getItemValue(item);\n  var indexString = this.normalize(boldString);\n  var indexOfQuery = indexString.lastIndexOf(this.query);\n  while (indexOfQuery > -1) {\n    var endIndexOfQuery = indexOfQuery + this.query.length;\n    boldString = boldString.slice(0, indexOfQuery) + '<strong>' + boldString.slice(indexOfQuery, endIndexOfQuery) + '</strong>' + boldString.slice(endIndexOfQuery);\n    indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n  }\n  return boldString\n}\n\n/**\n * Render an custom error message in the suggestions list\n * @param {String} msg An html string to render as an error message\n */\nSuggestions.prototype.renderError = function(msg){\n  this.list.drawError(msg);\n}\n\nmodule.exports = Suggestions;\n","'use strict';\n\n/**\n * A typeahead component for inputs\n * @class Suggestions\n *\n * @param {HTMLInputElement} el A valid HTML input element\n * @param {Array} data An array of data used for results\n * @param {Object} options\n * @param {Number} [options.limit=5] Max number of results to display in the auto suggest list.\n * @param {Number} [options.minLength=2] Number of characters typed into an input to trigger suggestions.\n * @param {Boolean} [options.hideOnBlur=true] If `true`, hides the suggestions when focus is lost.\n * @return {Suggestions} `this`\n * @example\n * // in the browser\n * var input = document.querySelector('input');\n * var data = [\n *   'Roy Eldridge',\n *   'Roy Hargrove',\n *   'Rex Stewart'\n * ];\n *\n * new Suggestions(input, data);\n *\n * // with options\n * var input = document.querySelector('input');\n * var data = [{\n *   name: 'Roy Eldridge',\n *   year: 1911\n * }, {\n *   name: 'Roy Hargrove',\n *   year: 1969\n * }, {\n *   name: 'Rex Stewart',\n *   year: 1907\n * }];\n *\n * var typeahead = new Suggestions(input, data, {\n *   filter: false, // Disable filtering\n *   minLength: 3, // Number of characters typed into an input to trigger suggestions.\n *   limit: 3, //  Max number of results to display.\n *   hideOnBlur: false // Don't hide results when input loses focus\n * });\n *\n * // As we're passing an object of an arrays as data, override\n * // `getItemValue` by specifying the specific property to search on.\n * typeahead.getItemValue = function(item) { return item.name };\n *\n * input.addEventListener('change', function() {\n *   console.log(typeahead.selected); // Current selected item.\n * });\n *\n * // With browserify\n * var Suggestions = require('suggestions');\n *\n * new Suggestions(input, data);\n */\nvar Suggestions = require('./src/suggestions');\nwindow.Suggestions = module.exports = Suggestions;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","'use strict';\n\nvar parseLinkHeader = require('../helpers/parse-link-header');\n\n/**\n * A Goong API response.\n *\n * @class GAPIResponse\n * @property {Object} body - The response body, parsed as JSON.\n * @property {string} rawBody - The raw response body.\n * @property {number} statusCode - The response's status code.\n * @property {Object} headers - The parsed response headers.\n * @property {Object} links - The parsed response links.\n * @property {GAPIRequest} request - The response's originating `GAPIRequest`.\n */\n\n/**\n * @ignore\n * @param {GAPIRequest} request\n * @param {Object} responseData\n * @param {Object} responseData.headers\n * @param {string} responseData.body\n * @param {number} responseData.statusCode\n */\nfunction GAPIResponse(request, responseData) {\n  this.request = request;\n  this.headers = responseData.headers;\n  this.rawBody = responseData.body;\n  this.statusCode = responseData.statusCode;\n  try {\n    this.body = JSON.parse(responseData.body || '{}');\n  } catch (parseError) {\n    this.body = responseData.body;\n  }\n  this.links = parseLinkHeader(this.headers.link);\n}\n\n/**\n * Check if there is a next page that you can fetch.\n *\n * @returns {boolean}\n */\nGAPIResponse.prototype.hasNextPage = function hasNextPage() {\n  return !!this.links.next;\n};\n\n/**\n * Create a request for the next page, if there is one.\n * If there is no next page, returns `null`.\n *\n * @returns {GAPIRequest | null}\n */\nGAPIResponse.prototype.nextPage = function nextPage() {\n  if (!this.hasNextPage()) return null;\n  return this.request._extend({\n    path: this.links.next.url\n  });\n};\n\nmodule.exports = GAPIResponse;\n","'use strict';\n\n// Like https://github.com/thlorenz/lib/parse-link-header but without any\n// additional dependencies.\n\nfunction parseParam(param) {\n  var parts = param.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n  if (!parts) return null;\n\n  return {\n    key: parts[1],\n    value: parts[2]\n  };\n}\n\nfunction parseLink(link) {\n  var parts = link.match(/<?([^>]*)>(.*)/);\n  if (!parts) return null;\n\n  var linkUrl = parts[1];\n  var linkParams = parts[2].split(';');\n  var rel = null;\n  var parsedLinkParams = linkParams.reduce(function(result, param) {\n    var parsed = parseParam(param);\n    if (!parsed) return result;\n    if (parsed.key === 'rel') {\n      if (!rel) {\n        rel = parsed.value;\n      }\n      return result;\n    }\n    result[parsed.key] = parsed.value;\n    return result;\n  }, {});\n  if (!rel) return null;\n\n  return {\n    url: linkUrl,\n    rel: rel,\n    params: parsedLinkParams\n  };\n}\n\n/**\n * Parse a Link header.\n *\n * @param {string} linkHeader\n * @returns {{\n *   [string]: {\n *     url: string,\n *     params: { [string]: string }\n *   }\n * }}\n */\nfunction parseLinkHeader(linkHeader) {\n  if (!linkHeader) return {};\n\n  return linkHeader.split(/,\\s*</).reduce(function(result, link) {\n    var parsed = parseLink(link);\n    if (!parsed) return result;\n    // rel value can be multiple whitespace-separated rels.\n    var splitRel = parsed.rel.split(/\\s+/);\n    splitRel.forEach(function(rel) {\n      if (!result[rel]) {\n        result[rel] = {\n          url: parsed.url,\n          params: parsed.params\n        };\n      }\n    });\n    return result;\n  }, {});\n}\n\nmodule.exports = parseLinkHeader;\n","'use strict';\n\nvar constants = require('../constants');\n\n/**\n * A Goong API error.\n *\n * If there's an error during the API transaction,\n * the Promise returned by `GAPIRequest`'s [`send`](#send)\n * method should reject with a `GAPIError`.\n *\n * @class GAPIError\n * @hideconstructor\n * @property {GAPIRequest} request - The errored request.\n * @property {string} type - The type of error. Usually this is `'HttpError'`.\n *   If the request was aborted, so the error was\n *   not sent from the server, the type will be\n *   `'RequestAbortedError'`.\n * @property {number} [statusCode] - The numeric status code of\n *   the HTTP response.\n * @property {Object | string} [body] - If the server sent a response body,\n *   this property exposes that response, parsed as JSON if possible.\n * @property {string} [message] - Whatever message could be derived from the\n *   call site and HTTP response.\n *\n * @param {GAPIRequest} options.request\n * @param {number} [options.statusCode]\n * @param {string} [options.body]\n * @param {string} [options.message]\n * @param {string} [options.type]\n */\nfunction GAPIError(options) {\n  var errorType = options.type || constants.ERROR_HTTP;\n\n  var body;\n  if (options.body) {\n    try {\n      body = JSON.parse(options.body);\n    } catch (e) {\n      body = options.body;\n    }\n  } else {\n    body = null;\n  }\n\n  var message = options.message || null;\n  if (!message) {\n    if (typeof body === 'string') {\n      message = body;\n    } else if (body && typeof body.message === 'string') {\n      message = body.message;\n    } else if (errorType === constants.ERROR_REQUEST_ABORTED) {\n      message = 'Request aborted';\n    }\n  }\n\n  this.message = message;\n  this.type = errorType;\n  this.statusCode = options.statusCode || null;\n  this.request = options.request;\n  this.body = body;\n}\n\nmodule.exports = GAPIError;\n","'use strict';\n\nmodule.exports = {\n  API_ORIGIN: 'https://rsapi.goong.io',\n  EVENT_PROGRESS_DOWNLOAD: 'downloadProgress',\n  EVENT_PROGRESS_UPLOAD: 'uploadProgress',\n  EVENT_ERROR: 'error',\n  EVENT_RESPONSE: 'response',\n  ERROR_HTTP: 'HttpError',\n  ERROR_REQUEST_ABORTED: 'RequestAbortedError'\n};\n","'use strict';\n\nvar GAPIResponse = require('../classes/gapi-response');\nvar GAPIError = require('../classes/gapi-error');\nvar constants = require('../constants');\nvar parseHeaders = require('../helpers/parse-headers');\n\n// Keys are request IDs, values are XHRs.\nvar requestsUnderway = {};\n\nfunction browserAbort(request) {\n  var xhr = requestsUnderway[request.id];\n  if (!xhr) return;\n  xhr.abort();\n  delete requestsUnderway[request.id];\n}\n\nfunction createResponse(request, xhr) {\n  return new GAPIResponse(request, {\n    body: xhr.response,\n    headers: parseHeaders(xhr.getAllResponseHeaders()),\n    statusCode: xhr.status\n  });\n}\n\nfunction normalizeBrowserProgressEvent(event) {\n  var total = event.total;\n  var transferred = event.loaded;\n  var percent = (100 * transferred) / total;\n  return {\n    total: total,\n    transferred: transferred,\n    percent: percent\n  };\n}\n\nfunction sendRequestXhr(request, xhr) {\n  return new Promise(function(resolve, reject) {\n    xhr.onprogress = function(event) {\n      request.emitter.emit(\n        constants.EVENT_PROGRESS_DOWNLOAD,\n        normalizeBrowserProgressEvent(event)\n      );\n    };\n\n    var file = request.file;\n    if (file) {\n      xhr.upload.onprogress = function(event) {\n        request.emitter.emit(\n          constants.EVENT_PROGRESS_UPLOAD,\n          normalizeBrowserProgressEvent(event)\n        );\n      };\n    }\n\n    xhr.onerror = function(error) {\n      reject(error);\n    };\n\n    xhr.onabort = function() {\n      var gAPIError = new GAPIError({\n        request: request,\n        type: constants.ERROR_REQUEST_ABORTED\n      });\n      reject(gAPIError);\n    };\n\n    xhr.onload = function() {\n      delete requestsUnderway[request.id];\n      if (xhr.status < 200 || xhr.status >= 400) {\n        var gAPIError = new GAPIError({\n          request: request,\n          body: xhr.response,\n          statusCode: xhr.status\n        });\n        reject(gAPIError);\n        return;\n      }\n      resolve(xhr);\n    };\n\n    var body = request.body;\n\n    // matching service needs to send a www-form-urlencoded request\n    if (typeof body === 'string') {\n      xhr.send(body);\n    } else if (body) {\n      xhr.send(JSON.stringify(body));\n    } else if (file) {\n      xhr.send(file);\n    } else {\n      xhr.send();\n    }\n\n    requestsUnderway[request.id] = xhr;\n  }).then(function(xhr) {\n    return createResponse(request, xhr);\n  });\n}\n\n// The accessToken argument gives this function flexibility\n// for Goong's internal client.\nfunction createRequestXhr(request, accessToken) {\n  var url = request.url(accessToken);\n  var xhr = new window.XMLHttpRequest();\n  xhr.open(request.method, url);\n  Object.keys(request.headers).forEach(function(key) {\n    xhr.setRequestHeader(key, request.headers[key]);\n  });\n  return xhr;\n}\n\nfunction browserSend(request) {\n  return Promise.resolve().then(function() {\n    var xhr = createRequestXhr(request, request.client.accessToken);\n    return sendRequestXhr(request, xhr);\n  });\n}\n\nmodule.exports = {\n  browserAbort: browserAbort,\n  sendRequestXhr: sendRequestXhr,\n  browserSend: browserSend,\n  createRequestXhr: createRequestXhr\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\n\n// Encode each item of an array individually. The comma\n// delimiters should not themselves be encoded.\nfunction encodeArray(arrayValue) {\n  return arrayValue.map(encodeURIComponent).join(',');\n}\n\nfunction encodeValue(value) {\n  if (Array.isArray(value)) {\n    return encodeArray(value);\n  }\n  return encodeURIComponent(String(value));\n}\n\n/**\n * Append a query parameter to a URL.\n *\n * @param {string} url\n * @param {string} key\n * @param {string|number|boolean|Array<*>>} [value] - Provide an array\n *   if the value is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryParam(url, key, value) {\n  if (value === false || value === null) {\n    return url;\n  }\n  var punctuation = /\\?/.test(url) ? '&' : '?';\n  var query = encodeURIComponent(key);\n  if (value !== undefined && value !== '' && value !== true) {\n    query += '=' + encodeValue(value);\n  }\n  return '' + url + punctuation + query;\n}\n\n/**\n * Derive a query string from an object and append it\n * to a URL.\n *\n * @param {string} url\n * @param {Object} [queryObject] - Values should be primitives.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryObject(url, queryObject) {\n  if (!queryObject) {\n    return url;\n  }\n\n  var result = url;\n  Object.keys(queryObject).forEach(function(key) {\n    var value = queryObject[key];\n    if (value === undefined) {\n      return;\n    }\n    if (Array.isArray(value)) {\n      value = value\n        .filter(function(v) {\n          return !!v;\n        })\n        .join(',');\n    }\n    result = appendQueryParam(result, key, value);\n  });\n  return result;\n}\n\n/**\n * Prepend an origin to a URL. If the URL already has an\n * origin, do nothing.\n *\n * @param {string} url\n * @param {string} origin\n * @returns {string} - Modified URL.\n */\nfunction prependOrigin(url, origin) {\n  if (!origin) {\n    return url;\n  }\n\n  if (url.slice(0, 4) === 'http') {\n    return url;\n  }\n\n  var delimiter = url[0] === '/' ? '' : '/';\n  return '' + origin.replace(/\\/$/, '') + delimiter + url;\n}\n\n/**\n * Interpolate values into a route with express-style,\n * colon-prefixed route parameters.\n *\n * @param {string} route\n * @param {Object} [params] - Values should be primitives\n *   or arrays of primitives. Provide an array if the value\n *   is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction interpolateRouteParams(route, params) {\n  if (!params) {\n    return route;\n  }\n  return route.replace(/\\/:([a-zA-Z0-9]+)/g, function(_, paramId) {\n    var value = params[paramId];\n    if (value === undefined) {\n      throw new Error('Unspecified route parameter ' + paramId);\n    }\n    var preppedValue = encodeValue(value);\n    return '/' + preppedValue;\n  });\n}\n\nmodule.exports = {\n  appendQueryObject: appendQueryObject,\n  appendQueryParam: appendQueryParam,\n  prependOrigin: prependOrigin,\n  interpolateRouteParams: interpolateRouteParams\n};\n","'use strict';\n\nvar xtend = require('xtend');\nvar EventEmitter = require('eventemitter3');\nvar urlUtils = require('../helpers/url-utils');\nvar constants = require('../constants');\n\nvar requestId = 1;\n\n/**\n * A Goong API request.\n *\n * Note that creating a `GAPIRequest` does *not* send the request automatically.\n * Use the request's `send` method to send it off and get a `Promise`.\n *\n * The `emitter` property is an `EventEmitter` that emits the following events:\n *\n * - `'response'` - Listeners will be called with a `GAPIResponse`.\n * - `'error'` - Listeners will be called with a `GAPIError`.\n * - `'downloadProgress'` - Listeners will be called with `ProgressEvents`.\n * - `'uploadProgress'` - Listeners will be called with `ProgressEvents`.\n *   Upload events are only available when the request includes a file.\n *\n * @class GAPIRequest\n * @property {EventEmitter} emitter - An event emitter. See above.\n * @property {GAPIClient} client - This request's `GAPIClient`.\n * @property {GAPIResponse|null} response - If this request has been sent and received\n *   a response, the response is available on this property.\n * @property {GAPIError|Error|null} error - If this request has been sent and\n *   received an error in response, the error is available on this property.\n * @property {boolean} aborted - If the request has been aborted\n *   (via [`abort`](#abort)), this property will be `true`.\n * @property {boolean} sent - If the request has been sent, this property will\n *   be `true`. You cannot send the same request twice, so if you need to create\n *   a new request that is the equivalent of an existing one, use\n *   [`clone`](#clone).\n * @property {string} path - The request's path, including colon-prefixed route\n *   parameters.\n * @property {string} origin - The request's origin.\n * @property {string} method - The request's HTTP method.\n * @property {Object} query - A query object, which will be transformed into\n *   a URL query string.\n * @property {Object} params - A route parameters object, whose values will\n *   be interpolated the path.\n * @property {Object} headers - The request's headers.\n * @property {Object|string|null} body - Data to send with the request.\n *   If the request has a body, it will also be sent with the header\n *   `'Content-Type: application/json'`.\n * @property {Blob|ArrayBuffer|string|ReadStream} file - A file to\n *   send with the request. The browser client accepts Blobs and ArrayBuffers;\n *   the Node client accepts strings (filepaths) and ReadStreams.\n * @property {string} encoding - The encoding of the response.\n * @property {string} sendFileAs - The method to send the `file`. Options are\n *   `data` (x-www-form-urlencoded) or `form` (multipart/form-data).\n */\n\n/**\n * @ignore\n * @param {GAPIClient} client\n * @param {Object} options\n * @param {string} options.method\n * @param {string} options.path\n * @param {Object} [options.query={}]\n * @param {Object} [options.params={}]\n * @param {string} [options.origin]\n * @param {Object} [options.headers]\n * @param {Object} [options.body=null]\n * @param {Blob|ArrayBuffer|string|ReadStream} [options.file=null]\n * @param {string} [options.encoding=utf8]\n */\nfunction GAPIRequest(client, options) {\n  if (!client) {\n    throw new Error('GAPIRequest requires a client');\n  }\n  if (!options || !options.path || !options.method) {\n    throw new Error(\n      'GAPIRequest requires an options object with path and method properties'\n    );\n  }\n\n  var defaultHeaders = {};\n  if (options.body) {\n    defaultHeaders['content-type'] = 'application/json';\n  }\n\n  var headersWithDefaults = xtend(defaultHeaders, options.headers);\n\n  // Disallows duplicate header names of mixed case,\n  // e.g. Content-Type and content-type.\n  var headers = Object.keys(headersWithDefaults).reduce(function(memo, name) {\n    memo[name.toLowerCase()] = headersWithDefaults[name];\n    return memo;\n  }, {});\n\n  this.id = requestId++;\n  this._options = options;\n\n  this.emitter = new EventEmitter();\n  this.client = client;\n  this.response = null;\n  this.error = null;\n  this.sent = false;\n  this.aborted = false;\n  this.path = options.path;\n  this.method = options.method;\n  this.origin = options.origin || client.origin;\n  this.query = options.query || {};\n  this.params = options.params || {};\n  this.body = options.body || null;\n  this.file = options.file || null;\n  this.encoding = options.encoding || 'utf8';\n  this.sendFileAs = options.sendFileAs || null;\n  this.headers = headers;\n}\n\n/**\n * Get the URL of the request.\n *\n * @param {string} [accessToken] - By default, the access token of the request's\n *   client is used.\n * @return {string}\n */\nGAPIRequest.prototype.url = function url(accessToken) {\n  var url = urlUtils.prependOrigin(this.path, this.origin);\n  url = urlUtils.appendQueryObject(url, this.query);\n  var routeParams = this.params;\n  var actualAccessToken =\n    accessToken == null ? this.client.accessToken : accessToken;\n  if (actualAccessToken) {\n    url = urlUtils.appendQueryParam(url, 'api_key', actualAccessToken);\n  }\n  url = urlUtils.interpolateRouteParams(url, routeParams);\n  return url;\n};\n\n/**\n * Send the request. Returns a Promise that resolves with a `GAPIResponse`.\n * You probably want to use `response.body`.\n *\n * `send` only retrieves the first page of paginated results. You can get\n * the next page by using the `GAPIResponse`'s [`nextPage`](#nextpage)\n * function, or iterate through all pages using [`eachPage`](#eachpage)\n * instead of `send`.\n *\n * @returns {Promise<GAPIResponse>}\n */\nGAPIRequest.prototype.send = function send() {\n  var self = this;\n\n  if (self.sent) {\n    throw new Error(\n      'This request has already been sent. Check the response and error properties. Create a new request with clone().'\n    );\n  }\n  self.sent = true;\n\n  return self.client.sendRequest(self).then(\n    function(response) {\n      self.response = response;\n      self.emitter.emit(constants.EVENT_RESPONSE, response);\n      return response;\n    },\n    function(error) {\n      self.error = error;\n      self.emitter.emit(constants.EVENT_ERROR, error);\n      throw error;\n    }\n  );\n};\n\n/**\n * Abort the request.\n *\n * Any pending `Promise` returned by [`send`](#send) will be rejected with\n * an error with `type: 'RequestAbortedError'`. If you've created a request\n * that might be aborted, you need to catch and handle such errors.\n *\n * This method will also abort any requests created while fetching subsequent\n * pages via [`eachPage`](#eachpage).\n *\n * If the request has not been sent or has already been aborted, nothing\n * will happen.\n */\nGAPIRequest.prototype.abort = function abort() {\n  if (this._nextPageRequest) {\n    this._nextPageRequest.abort();\n    delete this._nextPageRequest;\n  }\n\n  if (this.response || this.error || this.aborted) return;\n\n  this.aborted = true;\n  this.client.abortRequest(this);\n};\n\n/**\n * Invoke a callback for each page of a paginated API response.\n *\n * The callback should have the following signature:\n *\n * ```js\n * (\n *   error: GAPIError,\n *   response: GAPIResponse,\n *   next: () => void\n * ) => void\n * ```\n *\n * **The next page will not be fetched until you've invoked the\n * `next` callback**, indicating that you're ready for it.\n *\n * @param {Function} callback\n */\nGAPIRequest.prototype.eachPage = function eachPage(callback) {\n  var self = this;\n\n  function handleResponse(response) {\n    function getNextPage() {\n      delete self._nextPageRequest;\n      var nextPageRequest = response.nextPage();\n      if (nextPageRequest) {\n        self._nextPageRequest = nextPageRequest;\n        getPage(nextPageRequest);\n      }\n    }\n    callback(null, response, getNextPage);\n  }\n\n  function handleError(error) {\n    callback(error, null, function() {});\n  }\n\n  function getPage(request) {\n    request.send().then(handleResponse, handleError);\n  }\n  getPage(this);\n};\n\n/**\n * Clone this request.\n *\n * Each request can only be sent *once*. So if you'd like to send the\n * same request again, clone it and send away.\n *\n * @returns {GAPIRequest} - A new `GAPIRequest` configured just like this one.\n */\nGAPIRequest.prototype.clone = function clone() {\n  return this._extend();\n};\n\n/**\n * @ignore\n */\nGAPIRequest.prototype._extend = function _extend(options) {\n  var extendedOptions = xtend(this._options, options);\n  return new GAPIRequest(this.client, extendedOptions);\n};\n\nmodule.exports = GAPIRequest;\n","'use strict';\n\nvar GAPIRequest = require('./gapi-request');\nvar constants = require('../constants');\n\n/**\n * A low-level Goong API client. Use it to create service clients\n * that share the same configuration.\n *\n * Services and `GAPIRequest`s use the underlying `GAPIClient` to\n * determine how to create, send, and abort requests in a way\n * that is appropriate to the configuration and environment\n * (Node or the browser).\n *\n * @class GAPIClient\n * @property {string} accessToken - The Goong access token / api key assigned\n *   to this client.\n * @property {string} [origin] - The origin\n *   to use for API requests. Defaults to https://rsapi.goong.io\n */\n\nfunction GAPIClient(options) {\n  if (!options || !options.accessToken) {\n    throw new Error('Cannot create a client without an API key');\n  }\n\n  this.accessToken = options.accessToken;\n  this.origin = options.origin || constants.API_ORIGIN;\n}\n\nGAPIClient.prototype.createRequest = function createRequest(requestOptions) {\n  return new GAPIRequest(this, requestOptions);\n};\n\nmodule.exports = GAPIClient;\n","'use strict';\n\nvar browser = require('./browser-layer');\nvar GAPIClient = require('../classes/gapi-client');\n\nfunction BrowserClient(options) {\n  GAPIClient.call(this, options);\n}\nBrowserClient.prototype = Object.create(GAPIClient.prototype);\nBrowserClient.prototype.constructor = BrowserClient;\n\nBrowserClient.prototype.sendRequest = browser.browserSend;\nBrowserClient.prototype.abortRequest = browser.browserAbort;\n\n/**\n * Create a client for the browser.\n *\n * @param {Object} options\n * @param {string} options.accessToken\n * @param {string} [options.origin]\n * @returns {GAPIClient}\n */\nfunction createBrowserClient(options) {\n  return new BrowserClient(options);\n}\n\nmodule.exports = createBrowserClient;\n","'use strict';\n\nfunction parseSingleHeader(raw) {\n  var boundary = raw.indexOf(':');\n  var name = raw\n    .substring(0, boundary)\n    .trim()\n    .toLowerCase();\n  var value = raw.substring(boundary + 1).trim();\n  return {\n    name: name,\n    value: value\n  };\n}\n\n/**\n * Parse raw headers into an object with lowercase properties.\n * Does not fully parse headings into more complete data structure,\n * as larger libraries might do. Also does not deal with duplicate\n * headers because Node doesn't seem to deal with those well, so\n * we shouldn't let the browser either, for consistency.\n *\n * @param {string} raw\n * @returns {Object}\n */\nfunction parseHeaders(raw) {\n  var headers = {};\n  if (!raw) {\n    return headers;\n  }\n\n  raw\n    .trim()\n    .split(/[\\r|\\n]+/)\n    .forEach(function(rawHeader) {\n      var parsed = parseSingleHeader(rawHeader);\n      headers[parsed.name] = parsed.value;\n    });\n\n  return headers;\n}\n\nmodule.exports = parseHeaders;\n","'use strict';\n\nvar client = require('./lib/client');\n\nmodule.exports = client;\n","'use strict';\nvar toString = Object.prototype.toString;\n\nmodule.exports = function (x) {\n\tvar prototype;\n\treturn toString.call(x) === '[object Object]' && (prototype = Object.getPrototypeOf(x), prototype === null || prototype === Object.getPrototypeOf({}));\n};\n","'use strict';\n/**\n * Validators are functions which assert certain type.\n * They can return a string which can then be used\n * to display a helpful error message.\n * They can also return a function for a custom error message.\n */\nvar isPlainObject = require('is-plain-obj');\nvar xtend = require('xtend');\n\nvar DEFAULT_ERROR_PATH = 'value';\nvar NEWLINE_INDENT = '\\n  ';\n\nvar v = {};\n\n/**\n * Runners\n *\n * Take root validators and run assertion\n */\nv.assert = function(rootValidator, options) {\n  options = options || {};\n  return function(value) {\n    var message = validate(rootValidator, value);\n    // all good\n    if (!message) {\n      return;\n    }\n\n    var errorMessage = processMessage(message, options);\n\n    if (options.apiName) {\n      errorMessage = options.apiName + ': ' + errorMessage;\n    }\n\n    throw new Error(errorMessage);\n  };\n};\n\n/**\n * Higher Order Validators\n *\n * validators which take other validators as input\n * and output a new validator\n */\nv.shape = function shape(validatorObj) {\n  var validators = objectEntries(validatorObj);\n  return function shapeValidator(value) {\n    var validationResult = validate(v.plainObject, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    var key, validator;\n    var errorMessages = [];\n\n    for (var i = 0; i < validators.length; i++) {\n      key = validators[i].key;\n      validator = validators[i].value;\n      validationResult = validate(validator, value[key]);\n\n      if (validationResult) {\n        // return [key].concat(validationResult);\n        errorMessages.push([key].concat(validationResult));\n      }\n    }\n\n    if (errorMessages.length < 2) {\n      return errorMessages[0];\n    }\n\n    // enumerate all the error messages\n    return function(options) {\n      errorMessages = errorMessages.map(function(message) {\n        var key = message[0];\n        var renderedMessage = processMessage(message, options)\n          .split('\\n')\n          .join(NEWLINE_INDENT); // indents any inner nesting\n        return '- ' + key + ': ' + renderedMessage;\n      });\n\n      var objectId = options.path.join('.');\n      var ofPhrase = objectId === DEFAULT_ERROR_PATH ? '' : ' of ' + objectId;\n\n      return (\n        'The following properties' +\n        ofPhrase +\n        ' have invalid values:' +\n        NEWLINE_INDENT +\n        errorMessages.join(NEWLINE_INDENT)\n      );\n    };\n  };\n};\n\nv.strictShape = function strictShape(validatorObj) {\n  var shapeValidator = v.shape(validatorObj);\n  return function strictShapeValidator(value) {\n    var shapeResult = shapeValidator(value);\n    if (shapeResult) {\n      return shapeResult;\n    }\n\n    var invalidKeys = Object.keys(value).reduce(function(memo, valueKey) {\n      if (validatorObj[valueKey] === undefined) {\n        memo.push(valueKey);\n      }\n      return memo;\n    }, []);\n\n    if (invalidKeys.length !== 0) {\n      return function() {\n        return 'The following keys are invalid: ' + invalidKeys.join(', ');\n      };\n    }\n  };\n};\n\nv.arrayOf = function arrayOf(validator) {\n  return createArrayValidator(validator);\n};\n\nv.tuple = function tuple() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return createArrayValidator(validators);\n};\n\n// Currently array validation fails when the first invalid item is found.\nfunction createArrayValidator(validators) {\n  var validatingTuple = Array.isArray(validators);\n  var getValidator = function(index) {\n    if (validatingTuple) {\n      return validators[index];\n    }\n    return validators;\n  };\n\n  return function arrayValidator(value) {\n    var validationResult = validate(v.plainArray, value);\n    if (validationResult) {\n      return validationResult;\n    }\n\n    if (validatingTuple && value.length !== validators.length) {\n      return 'an array with ' + validators.length + ' items';\n    }\n\n    for (var i = 0; i < value.length; i++) {\n      validationResult = validate(getValidator(i), value[i]);\n      if (validationResult) {\n        return [i].concat(validationResult);\n      }\n    }\n  };\n}\n\nv.required = function required(validator) {\n  function requiredValidator(value) {\n    if (value == null) {\n      return function(options) {\n        return formatErrorMessage(\n          options,\n          isArrayCulprit(options.path)\n            ? 'cannot be undefined/null.'\n            : 'is required.'\n        );\n      };\n    }\n    return validator.apply(this, arguments);\n  }\n  requiredValidator.__required = true;\n\n  return requiredValidator;\n};\n\nv.oneOfType = function oneOfType() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return function oneOfTypeValidator(value) {\n    var messages = validators\n      .map(function(validator) {\n        return validate(validator, value);\n      })\n      .filter(Boolean);\n\n    // If we don't have as many messages as no. of validators,\n    // then at least one validator was ok with the value.\n    if (messages.length !== validators.length) {\n      return;\n    }\n\n    // check primitive type\n    if (\n      messages.every(function(message) {\n        return message.length === 1 && typeof message[0] === 'string';\n      })\n    ) {\n      return orList(\n        messages.map(function(m) {\n          return m[0];\n        })\n      );\n    }\n\n    // Complex oneOfTypes like\n    // `v.oneOftypes(v.shape({name: v.string})`, `v.shape({name: v.number}))`\n    // are complex \\_()_/. For the current scope only returning the longest message.\n    return messages.reduce(function(max, arr) {\n      return arr.length > max.length ? arr : max;\n    });\n  };\n};\n\n/**\n * Meta Validators\n * which take options as argument (not validators)\n * and return a new primitive validator\n */\nv.equal = function equal(compareWith) {\n  return function equalValidator(value) {\n    if (value !== compareWith) {\n      return JSON.stringify(compareWith);\n    }\n  };\n};\n\nv.oneOf = function oneOf() {\n  var options = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  var validators = options.map(function(value) {\n    return v.equal(value);\n  });\n\n  return v.oneOfType.apply(this, validators);\n};\n\nv.range = function range(compareWith) {\n  var min = compareWith[0];\n  var max = compareWith[1];\n  return function rangeValidator(value) {\n    var validationResult = validate(v.number, value);\n\n    if (validationResult || value < min || value > max) {\n      return 'number between ' + min + ' & ' + max + ' (inclusive)';\n    }\n  };\n};\n\n/**\n * Primitive validators\n *\n * simple validators which return a string or undefined\n */\nv.any = function any() {\n  return;\n};\n\nv.boolean = function boolean(value) {\n  if (typeof value !== 'boolean') {\n    return 'boolean';\n  }\n};\n\nv.number = function number(value) {\n  if (typeof value !== 'number') {\n    return 'number';\n  }\n};\n\nv.plainArray = function plainArray(value) {\n  if (!Array.isArray(value)) {\n    return 'array';\n  }\n};\n\nv.plainObject = function plainObject(value) {\n  if (!isPlainObject(value)) {\n    return 'object';\n  }\n};\n\nv.string = function string(value) {\n  if (typeof value !== 'string') {\n    return 'string';\n  }\n};\n\nv.func = function func(value) {\n  if (typeof value !== 'function') {\n    return 'function';\n  }\n};\n\nfunction validate(validator, value) {\n  // assertions are optional by default unless wrapped in v.require\n  if (value == null && !validator.hasOwnProperty('__required')) {\n    return;\n  }\n\n  var result = validator(value);\n\n  if (result) {\n    return Array.isArray(result) ? result : [result];\n  }\n}\n\nfunction processMessage(message, options) {\n  // message array follows the convention\n  // [...path, result]\n  // path is an array of object keys / array indices\n  // result is output of the validator\n  var len = message.length;\n\n  var result = message[len - 1];\n  var path = message.slice(0, len - 1);\n\n  if (path.length === 0) {\n    path = [DEFAULT_ERROR_PATH];\n  }\n  options = xtend(options, { path: path });\n\n  return typeof result === 'function'\n    ? result(options) // allows customization of result\n    : formatErrorMessage(options, prettifyResult(result));\n}\n\nfunction orList(list) {\n  if (list.length < 2) {\n    return list[0];\n  }\n  if (list.length === 2) {\n    return list.join(' or ');\n  }\n  return list.slice(0, -1).join(', ') + ', or ' + list.slice(-1);\n}\n\nfunction prettifyResult(result) {\n  return 'must be ' + addArticle(result) + '.';\n}\n\nfunction addArticle(nounPhrase) {\n  if (/^an? /.test(nounPhrase)) {\n    return nounPhrase;\n  }\n  if (/^[aeiou]/i.test(nounPhrase)) {\n    return 'an ' + nounPhrase;\n  }\n  if (/^[a-z]/i.test(nounPhrase)) {\n    return 'a ' + nounPhrase;\n  }\n  return nounPhrase;\n}\n\nfunction formatErrorMessage(options, prettyResult) {\n  var arrayCulprit = isArrayCulprit(options.path);\n  var output = options.path.join('.') + ' ' + prettyResult;\n  var prepend = arrayCulprit ? 'Item at position ' : '';\n\n  return prepend + output;\n}\n\nfunction isArrayCulprit(path) {\n  return typeof path[path.length - 1] == 'number' || typeof path[0] == 'number';\n}\n\nfunction objectEntries(obj) {\n  return Object.keys(obj || {}).map(function(key) {\n    return { key: key, value: obj[key] };\n  });\n}\n\nv.validate = validate;\nv.processMessage = processMessage;\n\nmodule.exports = v;\n","'use strict';\n\nvar GAPIClient = require('../../lib/classes/gapi-client');\n// This will create the environment-appropriate client.\nvar createClient = require('../../lib/client');\n\nfunction createServiceFactory(ServicePrototype) {\n  return function(clientOrConfig) {\n    var client;\n    if (GAPIClient.prototype.isPrototypeOf.call(clientOrConfig)) {\n      client = clientOrConfig;\n    } else {\n      client = createClient(clientOrConfig);\n    }\n    var service = Object.create(ServicePrototype);\n    service.client = client;\n    return service;\n  };\n}\n\nmodule.exports = createServiceFactory;\n","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('@mapbox/fusspot');\n\nfunction file(value) {\n  // If we're in a browser so Blob is available, the file must be that.\n  // In Node, however, it could be a filepath or a pipeable (Readable) stream.\n  if (typeof window !== 'undefined') {\n    if (value instanceof global.Blob || value instanceof global.ArrayBuffer) {\n      return;\n    }\n    return 'Blob or ArrayBuffer';\n  }\n  if (typeof value === 'string' || value.pipe !== undefined) {\n    return;\n  }\n  return 'Filename or Readable stream';\n}\n\nfunction assertShape(validatorObj, apiName) {\n  return v.assert(v.strictShape(validatorObj), apiName);\n}\n\nfunction date(value) {\n  var msg = 'date';\n  if (typeof value === 'boolean') {\n    return msg;\n  }\n  try {\n    var date = new Date(value);\n    if (date.getTime && isNaN(date.getTime())) {\n      return msg;\n    }\n  } catch (e) {\n    return msg;\n  }\n}\n\nfunction coordinates(value) {\n  return v.tuple(v.number, v.number)(value);\n}\n\nmodule.exports = xtend(v, {\n  file: file,\n  date: date,\n  coordinates: coordinates,\n  assertShape: assertShape\n});\n","'use strict';\n\nvar v = require('./service-helpers/validator');\nvar createServiceFactory = require('./service-helpers/create-service-factory');\n\n/**\n * Autocomplete API service.\n *\n * Learn more about this service and its responses in\n * [Goong REST API documentation](https://docs.goong.io/rest/guide#place).\n */\nvar Autocomplete = {};\n\n/**\n * Autocomplete search\n *\n * See the [public documentation](https://docs.goong.io/rest/guide#get-points-by-keyword).\n *\n * @param {Object} config\n * @param {string} config.input - A place name.\n * @param {string} config.location -  A location to use as a hint when looking up the specified address - `latitude,longitude`\n * @param {number} config.radius -  Distance round from your location by kilometers\n * @param {number} [config.limit=10] - Limit the number of results returned.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @return {GAPIRequest}\n *\n * @example\n * autocompleteClient.search({\n *   input: 'san bay noi bai',\n *   limit: 5\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * @example\n * // autocomplete with location\n * autocompleteClient.search({\n *   input: 'san bay noi bai',\n *   location: '21.028531,105.854189',\n *   radius: 100\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n */\nAutocomplete.search = function(config) {\n  v.assertShape({\n    input: v.required(v.string),\n    location: v.string,\n    radius: v.number,\n    limit: v.number\n  })(config);\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/Place/AutoComplete',\n    query: config\n  });\n};\n\n/**\n * Autocomplete get place detail\n *\n * See the [public documentation](https://docs.goong.io/rest/guide#get-point-detail-by-id).\n *\n * @param {Object} config\n * @param {string} config.placeID - Place id from `Autocomplete` or `Geocoding`.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @return {GAPIRequest}\n *\n * @example\n * autocompleteClient.placeDetail({\n *   placeid: '0WmA4vbeody2J9AEvVM9YE3ZN85z7Mrw',\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n */\nAutocomplete.placeDetail = function(config) {\n  v.assertShape({\n    placeid: v.required(v.string)\n  })(config);\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/Place/Detail',\n    query: config\n  });\n};\n\nmodule.exports = createServiceFactory(Autocomplete);\n","'use strict';\r\n\r\nvar Typeahead = require('suggestions');\r\n\r\nvar debounce = require('lodash.debounce');\r\n\r\nvar extend = require('xtend');\r\n\r\nvar EventEmitter = require('events').EventEmitter;\r\n\r\nvar GoongClient = require('@goongmaps/goong-sdk');\r\n\r\nvar goongAutocomplete = require('@goongmaps/goong-sdk/services/autocomplete');\r\n\r\n/**\r\n * A geocoder component using the [Goong Geocoding API](https://docs.goong.io/rest/guide#place)\r\n * @class GoongGeocoder\r\n * @param {Object} options\r\n * @param {String} options.accessToken Required. An API Key created at https://account.goong.io\r\n * @param {String} [options.origin=https://rsapi.goong.io] Use to set a custom API origin.\r\n * @param {Object} [options.goongjs] A [goongjs](https://docs.goong.io/js/guide) instance to use when creating [Markers](https://docs.goong.io/js/guide#add-custom-icons-with-markers). Required if `options.marker` is `true`.\r\n * @param {Number} [options.zoom=16] On geocoded result what zoom level should the map animate to.\r\n * @param {Boolean|Object} [options.flyTo=true] If `false`, animating the map to a selected result is disabled. If `true`, animating the map will use the default animation parameters.\r\n * @param {String} [options.placeholder=Search] Override the default placeholder attribute value.\r\n * @param {Object} [options.proximity] a proximity argument: this is\r\n * a geographical point given as an object with `latitude` and `longitude`\r\n * properties. Search results closer to this point will be given\r\n * higher priority.\r\n * @param {Boolean} [options.trackProximity=true] If `true`, the geocoder proximity will automatically update based on the map view.\r\n * @param {Boolean} [options.collapsed=false] If `true`, the geocoder control will collapse until hovered or in focus.\r\n * @param {Boolean} [options.clearAndBlurOnEsc=false] If `true`, the geocoder control will clear it's contents and blur when user presses the escape key.\r\n * @param {Boolean} [options.clearOnBlur=false] If `true`, the geocoder control will clear its value when the input blurs.\r\n * @param {Number} [options.minLength=2] Minimum number of characters to enter before results are shown.\r\n * @param {Number} [options.limit=5] Maximum number of results to show.\r\n * @param {Number} [options.radius=3000] Distance by kilometers around search location\r\n * @param {Boolean|Object} [options.marker=true]  If `true`, a [Marker](https://docs.goong.io/js/guide#add-custom-icons-with-markers) will be added to the map at the location of the user-selected result using a default set of Marker options.  If the value is an object, the marker will be constructed using these options. If `false`, no marker will be added to the map. Requires that `options.goongjs` also be set.\r\n * @param {Function} [options.render] A function that specifies how the results should be rendered in the dropdown menu. This function should accepts a single [Predictions](https://docs.goong.io/rest/guide#place) object as input and return a string. Any HTML in the returned string will be rendered.\r\n * @param {Function} [options.getItemValue] A function that specifies how the selected result should be rendered in the search bar. This function should accept a single [Place Detail](https://docs.goong.io/rest/guide#get-point-detail-by-id) object as input and return a string. HTML tags in the output string will not be rendered. Defaults to `(item) => item.formatted_address`.\r\n\r\n * @example\r\n * var geocoder = new GoongGeocoder({ accessToken: goongjs.accessToken });\r\n * map.addControl(geocoder);\r\n * @return {GoongGeocoder} `this`\r\n *\r\n */\r\n\r\n\r\nfunction GoongGeocoder(options) {\r\n  this._eventEmitter = new EventEmitter();\r\n  this.options = extend({}, this.options, options);\r\n  this.inputString = '';\r\n  this.fresh = true;\r\n  this.lastSelected = null;\r\n}\r\n\r\nGoongGeocoder.prototype = {\r\n  options: {\r\n    zoom: 16,\r\n    flyTo: true,\r\n    trackProximity: true,\r\n    minLength: 2,\r\n    limit: 5,\r\n    radius: 3000,\r\n    origin: 'https://rsapi.goong.io',\r\n    marker: true,\r\n    goongjs: null,\r\n    collapsed: false,\r\n    clearAndBlurOnEsc: false,\r\n    clearOnBlur: false,\r\n    getItemValue: function getItemValue(item) {\r\n      return item.description;\r\n    },\r\n    render: function render(item) {\r\n      var placeName = item.structured_formatting;\r\n      return '<div class=\"goongjs-ctrl-geocoder--suggestion\"><div class=\"goongjs-ctrl-geocoder--suggestion-title\">' + placeName.main_text + '</div><div class=\"goongjs-ctrl-geocoder--suggestion-address\">' + placeName.secondary_text + '</div></div>';\r\n    }\r\n  },\r\n  request: null,\r\n  /**\r\n   * Add the geocoder to a container. The container can be either a `goongjs.Map` or a reference to an HTML `class` or `id`.\r\n   *\r\n   * If the container is a `goongjs.Map`, this function will behave identically to `Map.addControl(geocoder)`.\r\n   * If the container is an HTML `id` or `class`, the geocoder will be appended to that element.\r\n   *\r\n   * This function will throw an error if the container is not either a map or a `class`/`id` reference.\r\n   * It will also throw an error if the referenced HTML element cannot be found in the `document.body`.\r\n   *\r\n   * For example, if the HTML body contains the element `<div id='geocoder-container'></div>`, the following script will append the geocoder to `#geocoder-container`:\r\n   *\r\n   * ```javascript\r\n   * var geocoder = new GoongGeocoder({ accessToken: goongjs.accessToken });\r\n   * geocoder.addTo('#geocoder-container');\r\n   * ```\r\n   * @param {String|goongjs.Map} container A reference to the container to which to add the geocoder\r\n   */\r\n  addTo: function (container) {\r\n    // if the container is a map, add the control like normal\r\n    if (container._controlContainer) {\r\n      //  it's a goongjs map, add like normal\r\n      container.addControl(this);\r\n    } // if the container is not a map, but an html element, then add the control to that element\r\n    else if (typeof container == 'string' && (container.startsWith('#') || container.startsWith('.'))) {\r\n      var parent = document.querySelectorAll(container);\r\n\r\n      if (parent.length == 0) {\r\n        throw new Error(\"Element \", container, \"not found.\");\r\n      }\r\n\r\n      if (parent.length > 1) {\r\n        throw new Error(\"Geocoder can only be added to a single html element\");\r\n      }\r\n\r\n      parent.forEach(function (parentEl) {\r\n        var el = this.onAdd(); //returns the input elements, which are then added to the requested html container\r\n\r\n        parentEl.appendChild(el);\r\n      }.bind(this));\r\n    } else {\r\n      throw new Error(\"Error: addTo Container must be a goong-js map or a html element reference\");\r\n    }\r\n  },\r\n  onAdd: function (map) {\r\n    if (map && typeof map != 'string') {\r\n      this._map = map;\r\n    }\r\n    this.autoCompleteService = goongAutocomplete(\r\n      GoongClient({\r\n        accessToken: this.options.accessToken,\r\n        origin: this.options.origin\r\n      })\r\n    );\r\n\r\n    this._onChange = this._onChange.bind(this);\r\n    this._onKeyDown = this._onKeyDown.bind(this);\r\n    this._onPaste = this._onPaste.bind(this);\r\n    this._onBlur = this._onBlur.bind(this);\r\n    this._showButton = this._showButton.bind(this);\r\n    this._hideButton = this._hideButton.bind(this);\r\n    this._onQueryResult = this._onQueryResult.bind(this);\r\n    this.clear = this.clear.bind(this);\r\n    this._updateProximity = this._updateProximity.bind(this);\r\n    this._collapse = this._collapse.bind(this);\r\n    this._unCollapse = this._unCollapse.bind(this);\r\n    this._clear = this._clear.bind(this);\r\n    this._clearOnBlur = this._clearOnBlur.bind(this);\r\n    var el = this.container = document.createElement('div');\r\n    el.className = 'goongjs-ctrl-geocoder goongjs-ctrl';\r\n    var searchIcon = this.createIcon('search', '<path d=\"M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z\"/>');\r\n    this._inputEl = document.createElement('input');\r\n    this._inputEl.type = 'text';\r\n    this._inputEl.className = 'goongjs-ctrl-geocoder--input';\r\n    this.setPlaceholder();\r\n\r\n    if (this.options.collapsed) {\r\n      this._collapse();\r\n\r\n      this.container.addEventListener('mouseenter', this._unCollapse);\r\n      this.container.addEventListener('mouseleave', this._collapse);\r\n\r\n      this._inputEl.addEventListener('focus', this._unCollapse);\r\n    }\r\n\r\n    if (this.options.collapsed || this.options.clearOnBlur) {\r\n      this._inputEl.addEventListener('blur', this._onBlur);\r\n    }\r\n\r\n    this._inputEl.addEventListener('keydown', debounce(this._onKeyDown, 200));\r\n\r\n    this._inputEl.addEventListener('paste', this._onPaste);\r\n\r\n    this._inputEl.addEventListener('change', this._onChange);\r\n\r\n    this.container.addEventListener('mouseenter', this._showButton);\r\n    this.container.addEventListener('mouseleave', this._hideButton);\r\n\r\n    this._inputEl.addEventListener('keyup', function () {\r\n    }.bind(this));\r\n\r\n    var actions = document.createElement('div');\r\n    actions.classList.add('goongjs-ctrl-geocoder--pin-right');\r\n    this._clearEl = document.createElement('button');\r\n\r\n    this._clearEl.setAttribute('aria-label', 'Clear');\r\n\r\n    this._clearEl.addEventListener('click', this.clear);\r\n\r\n    this._clearEl.className = 'goongjs-ctrl-geocoder--button';\r\n    var buttonIcon = this.createIcon('close', '<path d=\"M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z\"/>');\r\n\r\n    this._clearEl.appendChild(buttonIcon);\r\n\r\n    this._loadingEl = this.createIcon('loading', '<path fill=\"#333\" d=\"M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z\"/><path opacity=\".1\" d=\"M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z\"/>');\r\n    actions.appendChild(this._clearEl);\r\n    actions.appendChild(this._loadingEl);\r\n    el.appendChild(searchIcon);\r\n    el.appendChild(this._inputEl);\r\n    el.appendChild(actions);\r\n    this._typeahead = new Typeahead(this._inputEl, [], {\r\n      filter: false,\r\n      minLength: this.options.minLength,\r\n      limit: this.options.limit\r\n    });\r\n    this.setRenderFunction(this.options.render);\r\n    this._typeahead.getItemValue = this.options.getItemValue;\r\n    this.mapMarker = null;\r\n    this._handleMarker = this._handleMarker.bind(this);\r\n\r\n    if (this._map) {\r\n      if (this.options.trackProximity) {\r\n        this._updateProximity();\r\n\r\n        this._map.on('moveend', this._updateProximity);\r\n      }\r\n\r\n      this._goongjs = this.options.goongjs;\r\n\r\n      if (!this._goongjs && this.options.marker) {\r\n        // eslint-disable-next-line no-console\r\n        console.error(\"No goongjs detected in options. Map markers are disabled. Please set options.goongjs.\");\r\n        this.options.marker = false;\r\n      }\r\n    }\r\n\r\n    return el;\r\n  },\r\n  createIcon: function (name, path) {\r\n    var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n    icon.setAttribute('class', 'goongjs-ctrl-geocoder--icon goongjs-ctrl-geocoder--icon-' + name);\r\n    icon.setAttribute('viewBox', '0 0 18 18');\r\n    icon.setAttribute('xml:space', 'preserve');\r\n    icon.setAttribute('width', 18);\r\n    icon.setAttribute('height', 18);\r\n    icon.innerHTML = path;\r\n    return icon;\r\n  },\r\n  onRemove: function () {\r\n    this.container.parentNode.removeChild(this.container);\r\n\r\n    if (this.options.trackProximity && this._map) {\r\n      this._map.off('moveend', this._updateProximity);\r\n    }\r\n\r\n    this._removeMarker();\r\n\r\n    this._map = null;\r\n    return this;\r\n  },\r\n  _onPaste: function (e) {\r\n    var value = (e.clipboardData || window.clipboardData).getData('text');\r\n\r\n    if (value.length >= this.options.minLength) {\r\n      this._geocode(value);\r\n    }\r\n  },\r\n  _onKeyDown: function (e) {\r\n    var ESC_KEY_CODE = 27,\r\n      TAB_KEY_CODE = 9;\r\n\r\n    if (e.keyCode === ESC_KEY_CODE && this.options.clearAndBlurOnEsc) {\r\n      this._clear(e);\r\n\r\n      return this._inputEl.blur();\r\n    } // if target has shadowRoot, then get the actual active element inside the shadowRoot\r\n\r\n\r\n    var target = e.target && e.target.shadowRoot ? e.target.shadowRoot.activeElement : e.target;\r\n    var value = target ? target.value : '';\r\n\r\n    if (!value) {\r\n      this.fresh = true; // the user has removed all the text\r\n\r\n      if (e.keyCode !== TAB_KEY_CODE) this.clear(e);\r\n      return this._clearEl.style.display = 'none';\r\n    } // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\r\n\r\n\r\n    if (e.metaKey || [TAB_KEY_CODE, ESC_KEY_CODE, 37, 39, 13, 38, 40].indexOf(e.keyCode) !== -1) return;\r\n\r\n    if (target.value.length >= this.options.minLength) {\r\n      this._geocode(target.value);\r\n    }\r\n  },\r\n  _showButton: function () {\r\n    if (this._typeahead.selected) this._clearEl.style.display = 'block';\r\n  },\r\n  _hideButton: function () {\r\n    if (this._typeahead.selected) this._clearEl.style.display = 'none';\r\n  },\r\n  _onBlur: function (e) {\r\n    if (this.options.clearOnBlur) {\r\n      this._clearOnBlur(e);\r\n    }\r\n\r\n    if (this.options.collapsed) {\r\n      this._collapse();\r\n    }\r\n  },\r\n  _onChange: function () {\r\n    var selected = this._typeahead.selected;\r\n\r\n    if (selected && JSON.stringify(selected) !== this.lastSelected) {\r\n      if (!this.options.flyTo) {\r\n        return;\r\n      }\r\n      var request = this.autoCompleteService.placeDetail({ placeid: selected.place_id }).send();\r\n      request.then(\r\n        function (response) {\r\n          this._clearEl.style.display = 'none';\r\n          var detail = response.body;\r\n          var flyOptions;\r\n          var defaultFlyOptions = {\r\n            zoom: this.options.zoom\r\n          };\r\n          flyOptions = extend({}, defaultFlyOptions, this.options.flyTo); //  ensure that center is not overriden by custom options\r\n          var lat = detail.result.geometry.location.lat\r\n          var lng = detail.result.geometry.location.lng\r\n          flyOptions.center = [lng, lat];\r\n\r\n          if (this._map) {\r\n            this._map.flyTo(flyOptions);\r\n          }\r\n          if (this.options.marker && this._goongjs) {\r\n            this._handleMarker(detail);\r\n          }\r\n\r\n          // After selecting a result, re-focus the textarea and set\r\n          // cursor at start.\r\n\r\n          this._inputEl.focus();\r\n\r\n          this._inputEl.scrollLeft = 0;\r\n\r\n          this._inputEl.setSelectionRange(0, 0);\r\n\r\n          this.lastSelected = JSON.stringify(selected);\r\n\r\n          this._eventEmitter.emit('result', {\r\n            result: detail\r\n          });\r\n        }.bind(this));\r\n\r\n      request.catch(\r\n        function (error) {\r\n          this._eventEmitter.emit('error', { error: error });\r\n        }.bind(this));\r\n\r\n      return request;      \r\n    }\r\n  },\r\n\r\n  _geocode: function (searchInput) {\r\n    this._loadingEl.style.display = 'block';\r\n    this._eventEmitter.emit('loading', {\r\n      query: searchInput\r\n    });\r\n\r\n    this.inputString = searchInput;\r\n\r\n    var request;\r\n    var config = {\r\n      input: searchInput,\r\n      radius: this.options.radius\r\n    };\r\n    if (this.options.trackProximity && this._map && this.options.proximity && this.options.proximity.latitude && this.options.proximity.longitude) {\r\n      config = extend(config, { location: this.options.proximity.latitude + \",\" + this.options.proximity.longitude })\r\n    }\r\n    request = this.autoCompleteService.search(config).send();\r\n    request.then(\r\n      function (response) {\r\n        var res = response.body;\r\n\r\n        this._loadingEl.style.display = 'none';\r\n        if (this.fresh) {\r\n          this.fresh = false;\r\n        }\r\n        if (res.predictions.length) {\r\n          this._clearEl.style.display = 'block';\r\n          this._eventEmitter.emit('results', res);\r\n          this._typeahead.update(res.predictions);\r\n        } else {\r\n          this._clearEl.style.display = 'none';\r\n          this._typeahead.selected = null;\r\n          this._renderNoResults();\r\n          this._eventEmitter.emit('results', res);\r\n        }\r\n      }.bind(this));\r\n    request.catch(\r\n      function (error) {\r\n        if (error && error.status === 0) return;\r\n        this._loadingEl.style.display = 'none';\r\n        this._clearEl.style.display = 'none';\r\n        this._typeahead.selected = null;\r\n        this._renderError();\r\n        this._eventEmitter.emit('results', { predictions: [] });\r\n        this._eventEmitter.emit('error', { error: error });\r\n      }.bind(this)\r\n    );\r\n\r\n    return request;\r\n  },\r\n\r\n  /**\r\n   * Shared logic for clearing input\r\n   * @param {Event} [ev] the event that triggered the clear, if available\r\n   * @private\r\n   *\r\n   */\r\n  _clear: function (ev) {\r\n    if (ev) ev.preventDefault();\r\n    this._inputEl.value = '';\r\n    this._typeahead.selected = null;\r\n\r\n    this._typeahead.clear();\r\n\r\n    this._onChange();\r\n\r\n    this._clearEl.style.display = 'none';\r\n\r\n    this._removeMarker();\r\n\r\n    this.lastSelected = null;\r\n\r\n    this._eventEmitter.emit('clear');\r\n\r\n    this.fresh = true;\r\n  },\r\n\r\n  /**\r\n   * Clear and then focus the input.\r\n   * @param {Event} [ev] the event that triggered the clear, if available\r\n   *\r\n   */\r\n  clear: function (ev) {\r\n    this._clear(ev);\r\n\r\n    this._inputEl.focus();\r\n  },\r\n\r\n  /**\r\n   * Clear the input, without refocusing it. Used to implement clearOnBlur\r\n   * constructor option.\r\n   * @param {Event} [ev] the blur event\r\n   * @private\r\n   */\r\n  _clearOnBlur: function (ev) {\r\n    var ctx = this;\r\n    /*\r\n     * If relatedTarget is not found, assume user targeted the suggestions list.\r\n     * In that case, do not clear on blur. There are other edge cases where\r\n     * ev.relatedTarget could be null. Clicking on list always results in null\r\n     * relatedtarget because of upstream behavior in `suggestions`.\r\n     */\r\n    if (ev.relatedTarget) {\r\n      ctx._clear(ev);\r\n    }\r\n  },\r\n  _onQueryResult: function (response) {\r\n    var results = response.result;\r\n    this._typeahead.selected = results;\r\n    this._inputEl.value = results.geometry.name;\r\n  },\r\n  _updateProximity: function () {\r\n    // proximity is designed for local scale, if the user is looking at the whole world,\r\n    // it doesn't make sense to factor in the arbitrary centre of the map\r\n    if (!this._map) {\r\n      return;\r\n    }\r\n\r\n    if (this._map.getZoom() > 9) {\r\n      var center = this._map.getCenter().wrap();\r\n\r\n      this.setProximity({\r\n        longitude: center.lng,\r\n        latitude: center.lat\r\n      });\r\n    } else {\r\n      this.setProximity(null);\r\n    }\r\n  },\r\n  _collapse: function () {\r\n    // do not collapse if input is in focus\r\n    if (!this._inputEl.value && this._inputEl !== document.activeElement) this.container.classList.add('goongjs-ctrl-geocoder--collapsed');\r\n  },\r\n  _unCollapse: function () {\r\n    this.container.classList.remove('goongjs-ctrl-geocoder--collapsed');\r\n  },\r\n\r\n  /**\r\n   * Set & query the input\r\n   * @param {string} searchInput location name or other search input\r\n   * @returns {GoongGeocoder} this\r\n   */\r\n  query: function (searchInput) {\r\n    this._geocode(searchInput).then(this._onQueryResult);\r\n\r\n    return this;\r\n  },\r\n  _renderError: function () {\r\n    var errorMessage = \"<div class='goong-js-geocoder--error'>There was an error reaching the server</div>\";\r\n\r\n    this._renderMessage(errorMessage);\r\n  },\r\n  _renderNoResults: function () {\r\n    var errorMessage = \"<div class='goong-js-geocoder--error goongjs-gl-geocoder--no-results'>No results found</div>\";\r\n\r\n    this._renderMessage(errorMessage);\r\n  },\r\n  _renderMessage: function (msg) {\r\n    this._typeahead.update([]);\r\n\r\n    this._typeahead.selected = null;\r\n\r\n    this._typeahead.clear();\r\n\r\n    this._typeahead.renderError(msg);\r\n  },\r\n\r\n  /**\r\n   * Get the text to use as the search bar placeholder\r\n   *\r\n   * If placeholder is provided in options, then use options.placeholder   \r\n   * Otherwise use the default\r\n   *\r\n   * @returns {String} the value to use as the search bar placeholder\r\n   * @private\r\n   */\r\n  _getPlaceholderText: function () {\r\n    if (this.options.placeholder) return this.options.placeholder;\r\n    return 'Search';\r\n  },\r\n\r\n  /**\r\n   * Set input\r\n   * @param {string} searchInput location name or other search input\r\n   * @returns {GoongGeocoder} this\r\n   */\r\n  setInput: function (searchInput) {\r\n    // Set input value to passed value and clear everything else.\r\n    this._inputEl.value = searchInput;\r\n    this._typeahead.selected = null;\r\n\r\n    this._typeahead.clear();\r\n\r\n    this._onChange();\r\n\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Set proximity\r\n   * @param {Object} proximity The new `options.proximity` value. This is a geographical point given as an object with `latitude` and `longitude` properties.\r\n   * @returns {GoongGeocoder} this\r\n   */\r\n  setProximity: function (proximity) {\r\n    this.options.proximity = proximity;\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Get proximity\r\n   * @returns {Object} The geocoder proximity\r\n   */\r\n  getProximity: function () {\r\n    return this.options.proximity;\r\n  },\r\n\r\n  /**\r\n   * Set the render function used in the results dropdown\r\n   * @param {Function} fn The function to use as a render function. This function accepts a single [Predictions](https://docs.goong.io/rest/guide#get-points-by-keyword) object as input and returns a string.\r\n   * @returns {GoongGeocoder} this\r\n   */\r\n  setRenderFunction: function (fn) {\r\n    if (fn && typeof fn == \"function\") {\r\n      this._typeahead.render = fn;\r\n    }\r\n\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Get the function used to render the results dropdown\r\n   *\r\n   * @returns {Function} the render function\r\n   */\r\n  getRenderFunction: function () {\r\n    return this._typeahead.render;\r\n  },\r\n\r\n  /**\r\n   * Get the zoom level the map will move to\r\n   * @returns {Number} the map zoom\r\n   */\r\n  getZoom: function () {\r\n    return this.options.zoom;\r\n  },\r\n\r\n  /**\r\n   * Set the zoom level\r\n   * @param {Number} zoom The zoom level that the map should animate to\r\n   * @returns {GoongGeocoder} this\r\n   */\r\n  setZoom: function (zoom) {\r\n    this.options.zoom = zoom;\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Get the parameters used to fly to the selected response, if any\r\n   * @returns {Boolean|Object} The `flyTo` option\r\n   */\r\n  getFlyTo: function () {\r\n    return this.options.flyTo;\r\n  },\r\n\r\n  /**\r\n   * Set the flyTo options\r\n   * @param {Boolean|Object} flyTo If false, animating the map to a selected result is disabled. If true, animating the map will use the default animation parameters\r\n   */\r\n  setFlyTo: function (flyTo) {\r\n    this.options.flyTo = flyTo;\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Get the value of the placeholder string\r\n   * @returns {String} The input element's placeholder value\r\n   */\r\n  getPlaceholder: function () {\r\n    return this.options.placeholder;\r\n  },\r\n\r\n  /**\r\n   * Set the value of the input element's placeholder\r\n   * @param {String} placeholder the text to use as the input element's placeholder\r\n   * @returns {GoongGeocoder} this\r\n   */\r\n  setPlaceholder: function (placeholder) {\r\n    this.placeholder = placeholder ? placeholder : this._getPlaceholderText();\r\n    this._inputEl.placeholder = this.placeholder;\r\n\r\n    this._inputEl.setAttribute('aria-label', this.placeholder);\r\n\r\n    return this;\r\n  },\r\n\r\n\r\n\r\n  /**\r\n   * Get the minimum number of characters typed to trigger results used in the plugin\r\n   * @returns {Number} The minimum length in characters before a search is triggered\r\n   */\r\n  getMinLength: function () {\r\n    return this.options.minLength;\r\n  },\r\n\r\n  /**\r\n   * Set the minimum number of characters typed to trigger results used by the plugin\r\n   * @param {Number} minLength the minimum length in characters\r\n   * @returns {GoongGeocoder} this\r\n   */\r\n  setMinLength: function (minLength) {\r\n    this.options.minLength = minLength;\r\n    if (this._typeahead) this._typeahead.minLength = minLength;\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Get the limit value for the number of results to display used by the plugin\r\n   * @returns {Number} The limit value for the number of results to display used by the plugin\r\n   */\r\n  getLimit: function () {\r\n    return this.options.limit;\r\n  },\r\n\r\n  /**\r\n   * Set the limit value for the number of results to display used by the plugin\r\n   * @param {Number} limit the number of search results to return\r\n   * @returns {GoongGeocoder}\r\n   */\r\n  setLimit: function (limit) {\r\n    this.options.limit = limit;\r\n    if (this._typeahead) this._typeahead.options.limit = limit;\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Get the radius value for the number of results to display used by the plugin\r\n   * @returns {Number} The limit value for the number of results to display used by the plugin\r\n   */\r\n  getRadius: function () {\r\n    return this.options.radius;\r\n  },\r\n\r\n  /**\r\n   * Set the limit value for the number of results to display used by the plugin\r\n   * @param {Number} radius the number of search results to return\r\n   * @returns {GoongGeocoder}\r\n   */\r\n  setRadius: function (radius) {\r\n    this.options.radius = radius;\r\n    if (this._typeahead) this._typeahead.options.radius = radius;\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Set the geocoding endpoint used by the plugin.\r\n   * @param {Function} origin A function which accepts an HTTPS URL to specify the endpoint to query results from.\r\n   * @returns {GoongGeocoder} this\r\n   */\r\n  setOrigin: function (origin) {\r\n    this.options.origin = origin;\r\n    this.autoCompleteService = goongAutocomplete(\r\n      GoongClient({\r\n        accessToken: this.options.accessToken,\r\n        origin: this.options.origin\r\n      })\r\n    );\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Get the geocoding endpoint the plugin is currently set to\r\n   * @returns {Function} the endpoint URL\r\n   */\r\n  getOrigin: function () {\r\n    return this.options.origin;\r\n  },\r\n\r\n  /**\r\n   * Handle the placement of a result marking the response result\r\n   * @private\r\n   * @param {Object} response the selected geojson feature\r\n   * @returns {GoongGeocoder} this\r\n   */\r\n  _handleMarker: function (response) {\r\n    // clean up any old marker that might be present\r\n    if (!this._map) {\r\n      return;\r\n    }\r\n\r\n    this._removeMarker();\r\n\r\n    var defaultMarkerOptions = {\r\n      color: '#469af7'\r\n    };\r\n    var markerOptions = extend({}, defaultMarkerOptions, this.options.marker);\r\n    this.mapMarker = new this._goongjs.Marker(markerOptions);\r\n    this.mapMarker.setLngLat([response.result.geometry.location.lng, response.result.geometry.location.lat]).addTo(this._map);\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Handle the removal of a result marker\r\n   * @private\r\n   */\r\n  _removeMarker: function () {\r\n    if (this.mapMarker) {\r\n      this.mapMarker.remove();\r\n      this.mapMarker = null;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Subscribe to events that happen within the plugin.\r\n   * @param {String} type name of event. Available events and the data passed into their respective event objects are:\r\n   *\r\n   * - __clear__ `Emitted when the input is cleared`\r\n   * - __loading__ `{ query } Emitted when the geocoder is looking up a query`\r\n   * - __results__ `{ results } Fired when the geocoder returns a response`\r\n   * - __result__ `{ result } Fired when input is set`\r\n   * - __error__ `{ error } Error as string`\r\n   * @param {Function} fn function that's called when the event is emitted.\r\n   * @returns {GoongGeocoder} this;\r\n   */\r\n  on: function (type, fn) {\r\n    this._eventEmitter.on(type, fn);\r\n\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * Remove an event\r\n   * @returns {GoongGeocoder} this\r\n   * @param {String} type Event name.\r\n   * @param {Function} fn Function that should unsubscribe to the event emitted.\r\n   */\r\n  off: function (type, fn) {\r\n    this._eventEmitter.removeListener(type, fn);\r\n\r\n    // this.eventManager.remove();\r\n    return this;\r\n  }\r\n};\r\nmodule.exports = GoongGeocoder;\r\n","import { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport GoongGeocoder from '@goongmaps/goong-geocoder'\nimport { FlyToInterpolator } from '@goongmaps/goong-map-react'\n\nconst VALID_POSITIONS = ['top-left', 'top-right', 'bottom-left', 'bottom-right']\n\nclass Geocoder extends PureComponent {\n  geocoder = null\n  cachedResult = null\n\n  componentDidMount() {\n    this.initializeGeocoder()\n  }\n\n  componentWillUnmount() {\n    this.removeGeocoder()\n  }\n\n  componentDidUpdate() {\n    this.removeGeocoder()\n    this.initializeGeocoder()\n  }\n\n  initializeGeocoder = () => {\n    const goongMap = this.getGoongMap()\n    const containerNode = this.getContainerNode()\n    const {\n      goongApiAccessToken,\n      inputValue,\n      origin,\n      zoom,\n      placeholder,\n      proximity,\n      trackProximity,\n      collapsed,\n      clearAndBlurOnEsc,\n      clearOnBlur,\n      radius,\n      minLength,\n      limit,\n      render,\n      getItemValue,\n      onInit,\n      position\n    } = this.props\n    const options = {\n      accessToken: goongApiAccessToken,\n      origin,\n      zoom,\n      radius: radius,\n      flyTo: true,\n      placeholder,\n      proximity,\n      trackProximity,\n      collapsed,\n      clearAndBlurOnEsc,\n      clearOnBlur,\n      minLength,\n      limit,\n      marker: false\n    }\n\n    if (render && typeof render === 'function') {\n      options.render = render\n    }\n\n    if (getItemValue && typeof getItemValue === 'function') {\n      options.getItemValue = getItemValue\n    }\n\n    this.geocoder = new GoongGeocoder(options)\n    this.subscribeEvents()\n\n    if (containerNode) {\n      containerNode.appendChild(this.geocoder.onAdd(goongMap))\n    } else {\n      goongMap.addControl(this.geocoder, VALID_POSITIONS.find((_position) => position === _position))\n    }\n\n    if (inputValue !== undefined && inputValue !== null) {\n      this.geocoder.setInput(inputValue)\n    } else if (this.cachedResult) {\n      this.geocoder.setInput(this.cachedResult.place_name)\n    }\n\n    if (this.cachedResult || (inputValue !== undefined && inputValue !== null)) {\n      this.showClearIcon()\n    }\n\n    onInit(this.geocoder)\n  }\n\n  showClearIcon = () => {\n    // this is a hack to force clear icon to show if there is text in the input\n    this.geocoder._clearEl.style.display = 'block'\n  }\n\n  getGoongMap = () => {\n    const { mapRef } = this.props\n\n    return (mapRef && mapRef.current && mapRef.current.getMap()) || null\n  }\n\n  getContainerNode = () => {\n    const { containerRef } = this.props\n\n    return (containerRef && containerRef.current) || null\n  }\n\n  subscribeEvents = () => {\n    this.geocoder.on('clear', this.handleClear)\n    this.geocoder.on('loading', this.handleLoading)\n    this.geocoder.on('results', this.handleResults)\n    this.geocoder.on('result', this.handleResult)\n    this.geocoder.on('error', this.handleError)\n  }\n\n  unsubscribeEvents = () => {\n    this.geocoder.off('clear', this.handleClear)\n    this.geocoder.off('loading', this.handleLoading)\n    this.geocoder.off('results', this.handleResults)\n    this.geocoder.off('result', this.handleResult)\n    this.geocoder.off('error', this.handleError)\n  }\n\n  removeGeocoder = () => {\n    const goongMap = this.getGoongMap()\n\n    this.unsubscribeEvents()\n\n    if (goongMap && goongMap.removeControl) {\n      this.getGoongMap().removeControl(this.geocoder)\n    }\n\n    this.geocoder = null\n  }\n\n  handleClear = () => {\n    this.cachedResult = null\n    this.props.onClear()\n  }\n\n  handleLoading = (event) => {\n    this.props.onLoading(event)\n  }\n\n  handleResults = (event) => {\n    this.props.onResults(event)\n  }\n\n  handleResult = (event) => {\n    const { result } = event.result\n    const { onViewportChange, onResult } = this.props\n    const { geometry = {} } = result\n    const latitude = geometry.location.lat\n    const longitude = geometry.location.lng\n\n    let zoom = this.geocoder.options.zoom\n\n    onViewportChange({\n      longitude,\n      latitude,\n      zoom,\n      transitionInterpolator: new FlyToInterpolator(),\n      transitionDuration: 3000\n    })\n    onResult(event)\n\n    this.cachedResult = result\n    this.geocoder._typeahead.selected = null\n    this.showClearIcon()\n  }\n\n  handleError = (event) => {\n    this.props.onError(event)\n  }\n\n  getGeocoder() {\n    return this.geocoder\n  }\n\n  render() {\n    return null\n  }\n\n  static propTypes = {\n    mapRef: PropTypes.object.isRequired,\n    containerRef: PropTypes.object,\n    onViewportChange: PropTypes.func,\n    goongApiAccessToken: PropTypes.string.isRequired,\n    inputValue: PropTypes.string,\n    origin: PropTypes.string,\n    zoom: PropTypes.number,\n    radius: PropTypes.number,\n    placeholder: PropTypes.string,\n    proximity: PropTypes.object,\n    trackProximity: PropTypes.bool,\n    collapsed: PropTypes.bool,\n    clearAndBlurOnEsc: PropTypes.bool,\n    clearOnBlur: PropTypes.bool,\n    minLength: PropTypes.number,\n    limit: PropTypes.number,\n    render: PropTypes.func,\n    getItemValue: PropTypes.func,\n    position: PropTypes.oneOf(VALID_POSITIONS),\n    onInit: PropTypes.func,\n    onClear: PropTypes.func,\n    onLoading: PropTypes.func,\n    onResults: PropTypes.func,\n    onResult: PropTypes.func,\n    onError: PropTypes.func\n  }\n\n  static defaultProps = {\n    onViewportChange: () => {},\n    origin: 'https://rsapi.goong.io',\n    zoom: 14,\n    radius: 3000,\n    placeholder: 'Search',\n    trackProximity: true,\n    collapsed: false,\n    clearAndBlurOnEsc: false,\n    clearOnBlur: false,\n    minLength: 2,\n    limit: 10,\n    position: 'top-right',\n    onInit: () => {},\n    onClear: () => {},\n    onLoading: () => {},\n    onResults: () => {},\n    onResult: () => {},\n    onError: () => {}\n  }\n}\n\nexport default Geocoder\n"],"names":["b","Symbol","for","c","d","e","f","g","h","k","l","m","n","p","q","r","t","v","w","x","y","z","a","u","$$typeof","type","A","process","env","NODE_ENV","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","typeOf","object","$$typeofType","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","hasWarnedAboutDeprecatedIsAsyncMode","isConcurrentMode","exports","console","module","require$$0","require$$1","getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","map","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","from","symbols","to","s","arguments","length","key","call","printWarning","ReactPropTypesSecret","loggedTypeFailures","has","Function","bind","text","message","error","Error","checkPropTypes","typeSpecs","values","location","componentName","getStack","typeSpecName","name","ex","stack","resetWarningCache","emptyFunctionThatReturnsNull","emptyFunction","emptyFunctionWithReset","isValidElement","throwOnDirectAccess","ITERATOR_SYMBOL","iterator","ReactPropTypes","array","createPrimitiveTypeChecker","bool","func","number","string","symbol","any","createChainableTypeChecker","arrayOf","typeChecker","props","propName","propFullName","PropTypeError","propValue","Array","isArray","getPropType","element","elementType","ReactIs","isValidElementType","instanceOf","expectedClass","constructor","node","isNode","objectOf","propType","oneOf","expectedValues","validate","is","valuesString","JSON","stringify","value","getPreciseType","oneOfType","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","shape","shapeTypes","exact","allKeys","this","checkType","isRequired","secret","chainedCheckType","expectedType","every","iteratorFn","maybeIterable","getIteratorFn","step","entries","next","done","entry","RegExp","isSymbol","Date","PropTypes","isElement","shim","getShim","require$$2","fuzzy","simpleFilter","pattern","filter","str","test","match","opts","ch","patternIdx","result","len","totalScore","currScore","pre","post","compareString","caseSensitive","toLowerCase","idx","Infinity","rendered","score","arr","reduce","prev","extract","index","original","sort","List","component","items","active","wrapper","document","createElement","className","appendChild","selectingListItem","el","parentNode","insertBefore","nextSibling","show","style","display","hide","add","item","push","clear","isEmpty","isVisible","draw","innerHTML","drawItem","li","addEventListener","handleMouseUp","move","previous","drawError","msg","Suggestions","data","options","extend","minLength","limit","hideOnBlur","list","query","selected","handleKeyUp","keyCode","handleKeyDown","handleFocus","handleBlur","handlePaste","render","getItemValue","handleInputChange","preventDefault","clipboardData","getData","self","setTimeout","normalize","getCandidates","update","revisedData","candidate","indexOf","createEvent","initEvent","dispatchEvent","fireEvent","callback","sourceFormatting","boldString","indexString","indexOfQuery","lastIndexOf","endIndexOfQuery","slice","renderError","window","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeSelf","root","global","objectToString","toString","nativeMax","Math","max","nativeMin","min","now","isObject","toNumber","isObjectLike","other","valueOf","replace","isBinary","GAPIResponse","request","responseData","headers","rawBody","body","statusCode","parse","parseError","linkHeader","links","link","parsed","parts","linkUrl","linkParams","rel","parsedLinkParams","param","parseParam","url","params","parseLink","hasNextPage","nextPage","_extend","path","errorType","requestsUnderway","normalizeBrowserProgressEvent","event","total","transferred","loaded","percent","prefix","Events","EE","fn","context","once","addListener","emitter","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","names","concat","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","removeListener","undefined","apply","j","on","removeAllListeners","off","prefixed","encodeValue","encodeURIComponent","appendQueryParam","punctuation","appendQueryObject","queryObject","prependOrigin","origin","delimiter","interpolateRouteParams","route","_","paramId","requestId","GAPIRequest","client","method","defaultHeaders","headersWithDefaults","xtend","memo","id","_options","response","sent","aborted","file","encoding","sendFileAs","accessToken","urlUtils","routeParams","actualAccessToken","send","sendRequest","then","abort","_nextPageRequest","abortRequest","eachPage","handleResponse","nextPageRequest","getPage","handleError","clone","extendedOptions","GAPIClient","createRequest","requestOptions","BrowserClient","Promise","resolve","xhr","XMLHttpRequest","open","setRequestHeader","createRequestXhr","reject","onprogress","upload","onerror","onabort","gAPIError","GAPIError","onload","status","raw","getAllResponseHeaders","trim","rawHeader","boundary","substring","parseSingleHeader","createResponse","sendRequestXhr","createArrayValidator","validators","validatingTuple","validationResult","plainArray","validator","processMessage","formatErrorMessage","nounPhrase","prettifyResult","orList","prettyResult","isArrayCulprit","assert","rootValidator","errorMessage","apiName","validatorObj","obj","plainObject","errorMessages","objectId","strictShape","shapeValidator","shapeResult","invalidKeys","valueKey","tuple","required","requiredValidator","__required","messages","Boolean","equal","compareWith","range","boolean","getPrototypeOf","isPlainObject","ServicePrototype","Blob","ArrayBuffer","pipe","date","getTime","isNaN","coordinates","assertShape","search","config","input","radius","placeDetail","placeid","clientOrConfig","isPrototypeOf","createClient","service","GoongGeocoder","_eventEmitter","inputString","fresh","lastSelected","zoom","flyTo","trackProximity","marker","goongjs","collapsed","clearAndBlurOnEsc","clearOnBlur","description","placeName","structured_formatting","main_text","secondary_text","addTo","container","_controlContainer","addControl","startsWith","parent","querySelectorAll","parentEl","onAdd","_map","autoCompleteService","goongAutocomplete","GoongClient","_onChange","_onKeyDown","_onPaste","_onBlur","_showButton","_hideButton","_onQueryResult","_updateProximity","_collapse","_unCollapse","_clear","_clearOnBlur","searchIcon","createIcon","_inputEl","setPlaceholder","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","debounce","cancel","clearTimeout","flush","actions","classList","_clearEl","setAttribute","buttonIcon","_loadingEl","_typeahead","Typeahead","setRenderFunction","mapMarker","_handleMarker","_goongjs","icon","createElementNS","onRemove","removeChild","_removeMarker","_geocode","ESC_KEY_CODE","TAB_KEY_CODE","blur","shadowRoot","activeElement","metaKey","place_id","flyOptions","detail","center","geometry","lng","lat","focus","scrollLeft","setSelectionRange","catch","searchInput","proximity","latitude","longitude","res","predictions","_renderNoResults","_renderError","ev","relatedTarget","results","getZoom","getCenter","wrap","setProximity","remove","_renderMessage","_getPlaceholderText","placeholder","setInput","getProximity","getRenderFunction","setZoom","getFlyTo","setFlyTo","getPlaceholder","getMinLength","setMinLength","getLimit","setLimit","getRadius","setRadius","setOrigin","getOrigin","markerOptions","color","Marker","setLngLat","VALID_POSITIONS","Geocoder","geocoder","cachedResult","initializeGeocoder","goongMap","_this","getGoongMap","containerNode","getContainerNode","inputValue","onInit","position","goongApiAccessToken","subscribeEvents","find","_position","place_name","showClearIcon","mapRef","current","getMap","containerRef","handleClear","handleLoading","handleResults","handleResult","unsubscribeEvents","removeGeocoder","removeControl","onClear","onLoading","onResults","onResult","onViewportChange","transitionInterpolator","FlyToInterpolator","transitionDuration","onError","componentDidMount","componentWillUnmount","componentDidUpdate","getGeocoder","PureComponent","propTypes","defaultProps"],"mappings":"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"}